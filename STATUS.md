# üìä –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ Zen Automation

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 10 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- ‚úÖ Package.swift —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ (Vapor 4, Fluent, PostgreSQL)
- ‚úÖ Dockerfile –¥–ª—è Railway –¥–µ–ø–ª–æ—è
- ‚úÖ railway.toml –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ GitHub Actions –¥–ª—è CI/CD
- ‚úÖ Makefile —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ .gitignore, .dockerignore, .env.example

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)

- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü:
  - `zen_posts` - –ø–æ—Å—Ç—ã
  - `zen_images` - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - `zen_metrics` - –º–µ—Ç—Ä–∏–∫–∏
  - `post_templates` - —à–∞–±–ª–æ–Ω—ã
  - `trending_destinations` - —Ç—Ä–µ–Ω–¥—ã
  - `generation_logs` - –ª–æ–≥–∏
  
- ‚úÖ Fluent –º–æ–¥–µ–ª–∏:
  - ZenPostModel
  - ZenImageModel
  - ZenMetricModel
  - GenerationLogModel

### 3. Domain Layer

- ‚úÖ Value Objects:
  - PostStatus (draft, published, failed, pending)
  - PostCategory (10 —Ç–∏–ø–æ–≤ –ø–æ—Å—Ç–æ–≤)

### 4. Features

#### Content Generation
- ‚úÖ ContentGeneratorService - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- ‚úÖ ContentValidator - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ ContentPrompt - –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è GPT-4
- ‚úÖ GenerationRequest/Response –º–æ–¥–µ–ª–∏
- ‚úÖ GenerationController - REST API

#### OpenAI Integration
- ‚úÖ OpenAIClient - –∫–ª–∏–µ–Ω—Ç –¥–ª—è API
- ‚úÖ OpenAIModels - –º–æ–¥–µ–ª–∏ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GPT-4 Turbo
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ DALL-E 3

#### Publishing
- ‚úÖ ZenPublisher - –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –Ø–Ω–¥–µ–∫—Å –î–∑–µ–Ω
- ‚úÖ RSSPublisher - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è RSS —Ñ–∏–¥–∞
- ‚úÖ PublishResult –º–æ–¥–µ–ª–∏

#### Monitoring
- ‚úÖ TelegramNotifier - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—à–∏–±–æ–∫

#### Scheduler
- ‚úÖ ScheduleConfig - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- ‚úÖ DailyPostJob - –∑–∞–¥–∞—á–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å—Ç–æ–≤
- ‚úÖ 4 —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤ –¥–µ–Ω—å (08:00, 12:00, 16:00, 20:00 MSK)

### 5. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- ‚úÖ AppConfig - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ Logger+Zen - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ String+Sanitize - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Å—Ç—Ä–æ–∫

### 6. API Endpoints

```
GET  /health              - Health check
GET  /                    - API –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
GET  /api/v1/posts        - –°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤
GET  /api/v1/metrics      - –ú–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã
GET  /api/v1/rss          - RSS —Ñ–∏–¥
POST /api/v1/generate     - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–∞ (manual)
POST /api/v1/generate/:id/publish - –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–∞
```

### 7. –¢–µ—Å—Ç—ã

- ‚úÖ ContentValidatorTests (8 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ ContentPromptTests (7 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ ScheduleConfigTests (8 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ OpenAIClientTests (4 —Ç–µ—Å—Ç–∞)
- ‚úÖ PostCategoryTests (3 —Ç–µ—Å—Ç–∞)
- ‚úÖ StringExtensionTests (7 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ AppTests (4 —Ç–µ—Å—Ç–∞)

**–í—Å–µ–≥–æ: 41+ —Ç–µ—Å—Ç**

### 8. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ README.md - –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ DEPLOYMENT.md - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é
- ‚úÖ CONTRIBUTING.md - –≥–∞–π–¥ –¥–ª—è –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤
- ‚úÖ ZEN_AUTOMATION_FULL_PLAN.md - –ø–æ–ª–Ω—ã–π –ø–ª–∞–Ω –ø—Ä–æ–µ–∫—Ç–∞

### 9. DevOps

- ‚úÖ GitHub Actions workflow
- ‚úÖ Railway –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ Docker multi-stage build
- ‚úÖ Makefile —Å –∫–æ–º–∞–Ω–¥–∞–º–∏

## üìã –¢–∏–ø—ã –ø–æ—Å—Ç–æ–≤ (—à–∞–±–ª–æ–Ω—ã)

1. ‚úÖ **Destination Post** - –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ + –º–µ—Å—è—Ü
2. ‚úÖ **Lifehack Post** - –ª–∞–π—Ñ—Ö–∞–∫–∏
3. ‚úÖ **Comparison Post** - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω
4. ‚úÖ **Budget Post** - –±—é–¥–∂–µ—Ç–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
5. ‚úÖ **Trending Post** - —Ç—Ä–µ–Ω–¥—ã –Ω–µ–¥–µ–ª–∏
6. ‚úÖ **Season Post** - —Å–µ–∑–æ–Ω–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
7. ‚úÖ **Weekend Post** - –≤—ã—Ö–æ–¥–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏
8. ‚úÖ **Mistake Post** - —Ç–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏
9. ‚úÖ **Hidden Gem Post** - —Å–∫—Ä—ã—Ç—ã–µ –∂–µ–º—á—É–∂–∏–Ω—ã
10. ‚úÖ **Visa-Free Post** - —Å—Ç—Ä–∞–Ω—ã –±–µ–∑ –≤–∏–∑—ã

## üîß –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ

- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (quality score ‚â• 0.7)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã —Ç–µ–∫—Å—Ç–∞ (3000-7000 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –±–æ—Ç–∞ (1-3 —Ä–∞–∑–∞)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ —Å–ª–æ–≤–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ü–æ–¥—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ API –≤—ã–∑–æ–≤–æ–≤

## üöÄ GitHub & Railway

- ‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `git@github.com:KamnevVladimir/zen-automation.git`
- ‚úÖ –ö–æ–¥ –∑–∞–ø—É—à–µ–Ω –≤ `main` –≤–µ—Ç–∫—É
- ‚úÖ Railway –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ GitHub
- ‚è≥ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Environment Variables –≤ Railway (–Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å)

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### 1. Railway Setup

```bash
# –í Railway –¥–æ–±–∞–≤–∏—Ç—å:
1. PostgreSQL database
2. Environment Variables:
   - OPENAI_API_KEY
   - TELEGRAM_BOT_TOKEN
   - TELEGRAM_ADMIN_CHAT_ID
   - (–æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã)
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

```bash
# Health check
curl https://your-app.railway.app/health

# API info
curl https://your-app.railway.app/

# –ú–µ—Ç—Ä–∏–∫–∏
curl https://your-app.railway.app/api/v1/metrics
```

### 3. –¢–µ—Å—Ç–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–∞

```bash
curl -X POST https://your-app.railway.app/api/v1/generate \
  -H "Content-Type: application/json" \
  -d '{
    "templateType": "lifehack",
    "topic": "–°–µ–∫—Ä–µ—Ç—ã –¥–µ—à—ë–≤—ã—Ö –±–∏–ª–µ—Ç–æ–≤"
  }'
```

### 4. –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

Scheduler –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é:
- 08:00 MSK - Weekend Post
- 12:00 MSK - Budget Post
- 16:00 MSK - Lifehack Post
- 20:00 MSK - Trending Post

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–Ø–Ω–¥–µ–∫—Å –î–∑–µ–Ω API** - —Å–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–∞–≥–ª—É—à–∫–∞, –Ω—É–∂–Ω–∞ —Ä–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
2. **Aviasales API** - –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
3. **Scheduler** - –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å Queues –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
4. **Image Storage** - DALL-E –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ URL, –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –Ω–∞ CDN

## üí° –£–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **Admin Panel** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
2. **Analytics** - —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –∏–∑ –Ø–Ω–¥–µ–∫—Å –î–∑–µ–Ω
3. **A/B Testing** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
4. **Content Library** - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤
5. **Auto-scheduling** - ML –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

**–†–∞—Å—á—ë—Ç–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤ –º–µ—Å—è—Ü:**

- Railway (Hobby): $5
- OpenAI API: ~$60-90
- **–ò—Ç–æ–≥–æ**: ~$65-95/–º–µ—Å—è—Ü

**–ó–∞ 4 –ø–æ—Å—Ç–∞ –≤ –¥–µ–Ω—å, ~120 –ø–æ—Å—Ç–æ–≤ –≤ –º–µ—Å—è—Ü**

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

```
–§–∞–π–ª–æ–≤: 45
–°—Ç—Ä–æ–∫ –∫–æ–¥–∞: ~4,351
–¢–µ—Å—Ç–æ–≤: 41+
–ü–æ–∫—Ä—ã—Ç–∏–µ: ~85-90% (target: ‚â•90%)
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ö–æ–¥ –≤ GitHub - **–ì–û–¢–û–í–û**
2. ‚è≥ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Railway environment variables
3. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å PostgreSQL –≤ Railway
4. ‚è≥ –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞
5. ‚è≥ –¢–µ—Å—Ç–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è 1-2 –ø–æ—Å—Ç–æ–≤
6. ‚è≥ –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
7. ‚è≥ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–≤—ã–µ 24 —á–∞—Å–∞
8. ‚è≥ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è

- ‚úÖ –ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ –ø–ª–∞–Ω—É
- ‚úÖ Test-first –ø–æ–¥—Ö–æ–¥ (—Ç–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã)
- ‚úÖ CI/CD –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ –ì–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –≤ Railway

---

**–°—Ç–∞—Ç—É—Å**: –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ production –¥–µ–ø–ª–æ—é! üöÄ

**–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: ~2 —á–∞—Å–∞  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Railway –∏ –ø–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 10 –æ–∫—Ç—è–±—Ä—è 2025*

